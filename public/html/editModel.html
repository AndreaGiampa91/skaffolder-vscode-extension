<div class="container-page" ng-controller="EditModelController">
  <div class="title-container">
    <span class="title-topic">
      Model
    </span>
    <span class="title-text"> {{ model.name}} </span>
  </div>

  <div class="container-content">
    <div class="form-group">
      <label>
        Name
      </label>
      <div>
        <input ng-model="model.name" type="text" placeholder="Name" />
      </div>
    </div>

    <div class="form-group">
      <label>
        URL
      </label>
      <div>
        <input ng-model="model.url" type="text" placeholder="URL" />
      </div>
    </div>

    <!-- Attributes -->

    <div class="form-group">
      <label>
        Attributes
      </label>
      <div ng-repeat="attr in model._entity._attrs" class="attr-container mt-30">
        <div class="mt-10">
          <input type="text" ng-model="attr.name" placeholder="Name" />
        </div>
        <div class="mt-10">
          <select placeholder="Type" ng-model="attr.type">
            <option value="" disabled>Type</option>
            <option value="String">String</option>
            <option value="Number">Number</option>
            <option value="Date">Date</option>
            <option value="Boolean">Boolean</option>
            <option value="Integer">Integer</option>
            <option value="Decimal">Decimal</option>
            <option value="Custom">Custom</option>
          </select>
        </div>
        <div class="mt-10">
          <div class="btn-attr">
            <button ng-class="{'primary-button':attr.required }" ng-click="attr.required=!attr.required">Required</button>
            <button ng-class="{'primary-button':attr.unique }" ng-click="attr.unique=!attr.unique">Unique</button>
            <button ng-class="{'primary-button':attr._enum.length > 0 }" ng-click="showEnums = !showEnums">Enumeration</button>
          </div>

          <div class="remove-attr">
            <a href="" ng-click="removeAttr($index)">Remove attribute</a>
          </div>
        </div>
        <div class="mt-10" ng-show="showEnums">
          <label ng-if="attr._enum.length > 0">Enumeration values</label>

          <div class="mt-10 enum-container" ng-repeat="enum in attr._enum">
            <input ng-model="enum.name" />
            <a href="" ng-click="removeEnum($index, attr)">Remove</a>
          </div>

          <div class="mt-10">
            <a href="" ng-click="attr = addEnum(attr)">Add enumeration value</a>
          </div>
        </div>
        <div class="mt-30">
          <hr />
        </div>
      </div>
      <div>
        <button class="primary-button button-xs mt-20" ng-click="addAttr()">Add Attribute</button>
      </div>
    </div>
    <div class="relation">
      <h3 class="ft-13">
        Relation:
      </h3>
      <p class="relations" ng-repeat="rel in model._entity._relations">
        Type
        <span>
          <select class="input-model border-bottom ml-15 mr-15" placeholder="Type" ng-model="rel.type" value="{{ rel.type }}">
            <option value="m:m">m:m</option>
            <option value="1:m">1:m</option>
          </select>
        </span>
        Name
        <span>
          <input class="input-model border-bottom ml-15 mr-15" type="text" value=" {{ rel.name }} " placeholder="Name" />
        </span>
        <span>
          <button id="required" class="button-required">Required</button>
        </span>
      </p>
    </div>

    <div class="footer">
      <button class="primary-button" ng-click="save()">Save</button>
      <button class="delete-button" ng-click="delete()">Delete</button>
    </div>
  </div>
</div>
